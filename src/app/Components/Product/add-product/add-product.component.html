<app-back-header name="{{name}}"></app-back-header>

<ion-content>

  <ion-grid>
    <ion-row>
      <ion-col size="12" size-md="6" offset-md="3">
        <ion-card>
          <ion-card-content>
            <app-loader *ngIf="showLoader"></app-loader>

            <form [formGroup]="this.prodService.product">

              <ion-item>
                <ion-label position="floating">Name</ion-label>
                <ion-input type="text" formControlName="name"></ion-input>
              </ion-item>


              <ion-item>
                <ion-label position="floating">Category</ion-label>
                <ion-select formControlName="category" (ionChange)="getSubCat(this.prodService.product.value.category)">
                  <ion-select-option [value]="c.payload.doc.id" *ngFor="let c of cats | async">{{c.payload.doc.data().name}}</ion-select-option>
                </ion-select>
              </ion-item>

              <ion-item *ngIf="this.prodService.product.value.category">
                <ion-label position="floating">Sub Category</ion-label>
                <ion-select formControlName="subCategory">
                  <ion-select-option [value]="s.payload.doc.id" *ngFor="let s of subCats | async">{{s.payload.doc.data().name}}</ion-select-option>
                </ion-select>
              </ion-item>



              <ion-item>
                <ion-label position="floating">Brand Name</ion-label>
                <ion-input type="text" formControlName="brandName"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Quantity</ion-label>
                <ion-input type="text" formControlName="quantity"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Price</ion-label>
                <ion-input type="text" formControlName="price"></ion-input>
              </ion-item>

              <ion-item>
                <ion-label position="floating">Description</ion-label>
                <ion-textarea formControlName="description"></ion-textarea>
              </ion-item>

              <ion-card *ngIf="!img1">
                <label class="upContainer">
                  <ion-input type="file" style="display: none;" (change)="fileChange($event)" accept="image/x-png,image/gif,image/jpeg"></ion-input>
                  <div class="dumText">
                    <p class="add">+</p>
                    <p class="selText">Select Image</p>
                  </div>
                </label>
              </ion-card>


              <ion-card *ngIf="img1">
                <img [src]="img1" class="imgView margin" />
                <div class="editBtns">
                  <ion-button size="small" color="danger" (click)="removeImage()">
                    Remove
                  </ion-button>
                </div>
              </ion-card>


              <ion-button (click)="addProduct()" class="ion-margin-top" expand="block">Add Product</ion-button>
            </form>



          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>